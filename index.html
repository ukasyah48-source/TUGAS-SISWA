<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pengumpulan Tugas Online</title>
<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
  .box { max-width: 500px; background: white; margin: auto; padding: 20px; border-radius: 10px; }
  input, select, textarea { width: 100%; padding: 10px; margin-top: 10px; }
  button { margin-top: 15px; padding: 12px; width: 100%; background: #0069c0; color: white; border: none; border-radius: 5px; }
  button:hover { background: #004c8c; cursor: pointer; }
</style>
</head>
<body>

<div class="box">
  <h2>Form Pengumpulan Tugas</h2>

  <form id="taskForm">
    <label>Nama Siswa</label>
    <input type="text" id="nama" required>

    <label>Kelas</label>
    <select id="kelas" required>
      <option value="7">Kelas 7</option>
      <option value="8">Kelas 8</option>
      <option value="9">Kelas 9</option>
    </select>

    <label>Jenis Tugas</label>
    <select id="jenis" required>
      <option>Murajaah Tahfizh</option>
      <option>Murajaah Mapel Diniyyah</option>
      <option>Murajaah Mapel Umum</option>
      <option>Membantu Orangtua</option>
    </select>

    <label>Deskripsi Tugas</label>
    <textarea id="deskripsi" rows="4" required></textarea>

    <button type="submit">Kumpulkan Tugas</button>
  </form>

  <p id="status"></p>
</div>

<script>
document.getElementById("taskForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const payload = {
    ref: "main",
    inputs: {
      nama: document.getElementById("nama").value,
      kelas: document.getElementById("kelas").value,
      jenis: document.getElementById("jenis").value,
      deskripsi: document.getElementById("deskripsi").value
    }
  };

  fetch("https://api.github.com/repos/YOUR_USERNAME/YOUR_REPO/actions/workflows/submit.yml/dispatches", {
    method: "POST",
    headers: {
      "Accept": "application/vnd.github+json",
      "Authorization": "Bearer YOUR_GITHUB_PUBLIC_TRIGGER_TOKEN"
    },
    body: JSON.stringify(payload)
  })
  .then(() => {
    document.getElementById("status").innerHTML = "Tugas berhasil dikirim!";
    document.getElementById("taskForm").reset();
  })
  .catch(() => {
    document.getElementById("status").innerHTML = "Terjadi kesalahan. Silakan coba lagi.";
  });
});
</script>

</body>
</html>
